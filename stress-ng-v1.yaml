metadata:
  format: Lava-Test Test Definition 1.0
  name: Stress-ng lava-test-script
  Description: Lava-test-script for stress-ng testsuite
  maintainer: rkroshan.1997@gmail.com


params:

  PARAMETERS: --params "--perf --tz --metrics-brief -v"
  TEST_FILES: -F "stress-ng-testcases-name.txt stress-ng-testcases-name1.txt"
  TEST_CASES: -C "matrix lsearch sock pipe"
  ALL_TESTS: --all 0
  TIME_TO_RUN: --time 30
  CPU_INSTANCES: --cpu_instance 0

run:
  steps:
    - lava-test-case stress-ng-installation --shell ./stress-ng-installation-script.sh
    - lava-test-case stress-ng-version --shell stress-ng --version
    - lava-test-case stress-ng-test-script-run --shell ./stress-ng-test-script.sh ${TEST_CASES} ${TEST_FILES} ${PARAMETERS} ${TIME_TO_RUN} ${CPU_INSTANCES} ${ALL_TESTS}